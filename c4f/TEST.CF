FORGET IT

: IT ;

0 QUAN COUNTER
0 QUAN CNTB
0 VAR TOTAL
0 VAR TOTALT
0 VAR TOTAL-
0 VALUE MEM^

50 WARY STRC[] \ STRINGS OF CHARS
50 WARY STRB[] \ STRINGS OF BYTES

: PAD (@+; ,< 320 ,
: TRIM" CSTR
: TRIM FOR CSTR BL = (IF AT 1+ NEXT TO 1+ ;
: -TRIM" CSTR
: -TRIM FOR DUP I+ C@ BL = IF CSWAP> NEXT THEN TO 1+ ;
: C@A+ XA C@R+ XA (;
: ?S @2 OVER- ;
: ?S3- ?S S1- S1- 1- ;
: `CORA; RDROP NIP RDROP;
: "= OVER C@ 1+ SWAP 
: S= A! FOR CSTR C@A+ - SKIP? `CORA; NEXT 0& EXIT ;
: .~ 72 BASE! TO .B ;


: STRC. STRC[] ?S TYPE ;
: VCMP DUP CR STRC. CR SPC SPC
: STRB. STRB[] ?S S>UPK ". ;
: N TOTAL- @ DUP CR MEM^ - 20 U/ STRC[] ?S3- TYPE 
20 CR S>UPK ". 20 TOTAL- +! ;

: RL 0 WORD
  CSTR   DUP TOTAL  +!
  TRIM   DUP TOTALT +!
  -TRIM  DUP TOTAL- +!
  H COUNTER STRC[] !
  S,
  AT COUNTER ++ ;

: RECOMP COUNTER FOR H CNTB  STRB[] ! CNTB STRC[] ?S EVAL
  AT CNTB  ++   NEXT EXIT ;

INCLUDE C4F1.CF

CR
CR TOTAL @ . TOTALT @ . TOTAL- @ .
CR

H COUNTER STRC[] !  H TO MEM^
RECOMP
H CNTB STRB[] !     H TO MEM^  H TOTAL- !
USING C4F.COM
0 BLOCK
H 1K ERASE
H 806 CMOVE
H 806 + TO H 


CR .( TEST    ) BYTE. IT
